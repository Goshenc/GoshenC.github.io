<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>OkHttp的用法示例 | GoshenC</title><meta name="author" content="GoshenC"><meta name="copyright" content="GoshenC"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="OkHttp 是一个高效、灵活的 HTTP 客户端库，在 Android 开发中非常常用。下面介绍如何在 Android 中使用 OkHttp，并附上常见的 GET 和 POST 请求示例。 1. 添加 OkHttp 依赖如果你还没有添加 OkHttp，需要在 build.gradle.kts 添加依赖： 123dependencies &#123;    implementation(&amp;quot">
<meta property="og:type" content="article">
<meta property="og:title" content="OkHttp的用法示例">
<meta property="og:url" content="http://example.com/2025/03/29/OkHttp%E7%9A%84%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B/index.html">
<meta property="og:site_name" content="GoshenC">
<meta property="og:description" content="OkHttp 是一个高效、灵活的 HTTP 客户端库，在 Android 开发中非常常用。下面介绍如何在 Android 中使用 OkHttp，并附上常见的 GET 和 POST 请求示例。 1. 添加 OkHttp 依赖如果你还没有添加 OkHttp，需要在 build.gradle.kts 添加依赖： 123dependencies &#123;    implementation(&amp;quot">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/avatar.jpg">
<meta property="article:published_time" content="2025-03-29T03:30:26.000Z">
<meta property="article:modified_time" content="2025-03-29T04:19:23.307Z">
<meta property="article:author" content="GoshenC">
<meta property="article:tag" content="安卓知识类">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/avatar.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "OkHttp的用法示例",
  "url": "http://example.com/2025/03/29/OkHttp%E7%9A%84%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B/",
  "image": "http://example.com/img/avatar.jpg",
  "datePublished": "2025-03-29T03:30:26.000Z",
  "dateModified": "2025-03-29T04:19:23.307Z",
  "author": [
    {
      "@type": "Person",
      "name": "GoshenC",
      "url": "http://example.com/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/circularavatar.jpg"><link rel="canonical" href="http://example.com/2025/03/29/OkHttp%E7%9A%84%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":250,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'OkHttp的用法示例',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(img/mainbackground.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">59</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/gotcha,hahaha"><span> 简体中文/Chinese-CN</span></a></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Timeline</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.kugou.com/"><i class="fa-fw fas fa-music"></i><span> Music(音乐)</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie(电影)</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(img/mainbackground.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/circularavatar.jpg" alt="Logo"><span class="site-name">GoshenC</span></a><a class="nav-page-title" href="/"><span class="site-name">OkHttp的用法示例</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/gotcha,hahaha"><span> 简体中文/Chinese-CN</span></a></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Timeline</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.kugou.com/"><i class="fa-fw fas fa-music"></i><span> Music(音乐)</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie(电影)</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">OkHttp的用法示例</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-03-29T03:30:26.000Z" title="Created 2025-03-29 11:30:26">2025-03-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-03-29T04:19:23.307Z" title="Updated 2025-03-29 12:19:23">2025-03-29</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>4mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>OkHttp 是一个高效、灵活的 HTTP 客户端库，在 Android 开发中非常常用。下面介绍如何在 Android 中使用 OkHttp，并附上常见的 GET 和 POST 请求示例。</p>
<h2 id="1-添加-OkHttp-依赖"><a href="#1-添加-OkHttp-依赖" class="headerlink" title="1. 添加 OkHttp 依赖"></a><strong>1. 添加 <code>OkHttp</code> 依赖</strong></h2><p>如果你还没有添加 <code>OkHttp</code>，需要在 <code>build.gradle.kts</code> 添加依赖：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation(&quot;com.squareup.okhttp3:okhttp:4.12.0&quot;) // 最新版</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果你用的是 <code>build.gradle</code>（Groovy 语法）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation &#x27;com.squareup.okhttp3:okhttp:4.12.0&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="2-基本的-GET-请求-同步"><a href="#2-基本的-GET-请求-同步" class="headerlink" title="2. 基本的 GET 请求(同步)"></a><strong>2. 基本的 GET 请求(同步)</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import okhttp3.OkHttpClient</span><br><span class="line">import okhttp3.Request</span><br><span class="line">import okhttp3.Response</span><br><span class="line">import java.io.IOException</span><br><span class="line"></span><br><span class="line">fun sendGetRequest(): String? &#123;</span><br><span class="line">    val client = OkHttpClient() // 创建 OkHttpClient 实例</span><br><span class="line"></span><br><span class="line">    val request = Request.Builder()</span><br><span class="line">        .url(&quot;https://api.example.com/data&quot;) // 目标 URL</span><br><span class="line">        .get() // GET 请求</span><br><span class="line">        .build()</span><br><span class="line"></span><br><span class="line">    return try &#123;</span><br><span class="line">        val response: Response = client.newCall(request).execute() // 执行请求（同步）</span><br><span class="line">        if (response.isSuccessful) response.body?.string() else null</span><br><span class="line">    &#125; catch (e: IOException) &#123;</span><br><span class="line">        e.printStackTrace()</span><br><span class="line">        null</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a><strong>说明</strong></h3><ul>
<li><code>OkHttpClient</code>：创建 HTTP 客户端实例。</li>
<li><code>Request.Builder()</code>：构建 HTTP 请求。</li>
<li><code>.execute()</code>：执行 <strong>同步请求</strong>（会阻塞线程）。</li>
<li><code>response.body?.string()</code>：获取服务器返回的字符串。</li>
</ul>
<hr>
<h2 id="3-GET-请求（异步）"><a href="#3-GET-请求（异步）" class="headerlink" title="3. GET 请求（异步）"></a><strong>3. GET 请求（异步）</strong></h2><p>如果你不想阻塞主线程，可以使用 <strong>异步请求</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import okhttp3.*</span><br><span class="line">import java.io.IOException</span><br><span class="line">//callback 变量最终是用来将结果传递到最下面的回调函数里的，这个 回调函数 里的 result 就是 callback 传递的值</span><br><span class="line">fun sendGetRequestAsync(callback: (String?) -&gt; Unit) &#123;</span><br><span class="line">    val client = OkHttpClient()</span><br><span class="line">    val request = Request.Builder().url(&quot;https://api.example.com/data&quot;).build()</span><br><span class="line"></span><br><span class="line">    client.newCall(request).enqueue(object : Callback &#123;</span><br><span class="line">        override fun onFailure(call: Call, e: IOException) &#123;</span><br><span class="line">            callback(null) // 发生错误，返回 null到下面回调函数的result中</span><br><span class="line">        &#125;</span><br><span class="line">        override fun onResponse(call: Call, response: Response) &#123;</span><br><span class="line">            callback(response.body?.string()) // 请求成功，把返回的数据传递给回调函数中的result</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 调用示例</span><br><span class="line">fun main() &#123;</span><br><span class="line">    sendGetRequestAsync &#123; result -&gt;</span><br><span class="line">        if (result != null) &#123;</span><br><span class="line">            println(&quot;服务器返回数据：$result&quot;)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            println(&quot;请求失败&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>说明</strong></p>
<ul>
<li><code>.enqueue()</code>：使用异步请求，不会阻塞主线程。</li>
<li><strong>onFailure</strong>：请求失败时回调。</li>
<li><strong>onResponse</strong>：请求成功时回调，并返回数据。</li>
</ul>
<hr>
<h2 id="4-POST-请求（JSON-数据）"><a href="#4-POST-请求（JSON-数据）" class="headerlink" title="4. POST 请求（JSON 数据）"></a><strong>4. POST 请求（JSON 数据）</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import okhttp3.MediaType.Companion.toMediaTypeOrNull</span><br><span class="line">import okhttp3.OkHttpClient</span><br><span class="line">import okhttp3.Request</span><br><span class="line">import okhttp3.RequestBody</span><br><span class="line">import okhttp3.Response</span><br><span class="line"></span><br><span class="line">fun sendPostRequest(json: String): String? &#123;</span><br><span class="line">    val client = OkHttpClient()</span><br><span class="line"></span><br><span class="line">    val requestBody = RequestBody.create(&quot;application/json&quot;.toMediaTypeOrNull(), json)//这里的json是传入的参数</span><br><span class="line"></span><br><span class="line">    val request = Request.Builder()</span><br><span class="line">        .url(&quot;https://api.example.com/login&quot;)</span><br><span class="line">        .post(requestBody)</span><br><span class="line">        .build()</span><br><span class="line"></span><br><span class="line">    return try &#123;</span><br><span class="line">        val response: Response = client.newCall(request).execute()</span><br><span class="line">        if (response.isSuccessful) response.body?.string() else null</span><br><span class="line">    &#125; catch (e: IOException) &#123;</span><br><span class="line">        e.printStackTrace()</span><br><span class="line">        null</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a><strong>使用</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val jsonData = &quot;&quot;&quot;&#123;&quot;username&quot;:&quot;test&quot;,&quot;password&quot;:&quot;123456&quot;&#125;&quot;&quot;&quot;</span><br><span class="line">val response = sendPostRequest(jsonData)</span><br><span class="line">println(&quot;服务器返回: $response&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="异步版本POST请求"><a href="#异步版本POST请求" class="headerlink" title="异步版本POST请求"></a>异步版本POST请求</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import okhttp3.*</span><br><span class="line">import java.io.IOException</span><br><span class="line"></span><br><span class="line">fun sendPostRequestAsync(json: String, callback: (String?) -&gt; Unit) &#123;</span><br><span class="line">    val client = OkHttpClient()</span><br><span class="line"></span><br><span class="line">    // 创建请求体</span><br><span class="line">    val requestBody = RequestBody.create(&quot;application/json&quot;.toMediaTypeOrNull(), json)</span><br><span class="line"></span><br><span class="line">    // 创建请求</span><br><span class="line">    val request = Request.Builder()</span><br><span class="line">        .url(&quot;https://api.example.com/login&quot;)</span><br><span class="line">        .post(requestBody)</span><br><span class="line">        .build()</span><br><span class="line"></span><br><span class="line">    // 异步请求，使用 enqueue 发送请求</span><br><span class="line">    client.newCall(request).enqueue(object : Callback &#123;</span><br><span class="line">        override fun onFailure(call: Call, e: IOException) &#123;</span><br><span class="line">            callback(null)  // 请求失败，传递 null 给回调</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        override fun onResponse(call: Call, response: Response) &#123;</span><br><span class="line">            // 请求成功时，检查响应状态</span><br><span class="line">            if (response.isSuccessful) &#123;</span><br><span class="line">                callback(response.body?.string())  // 请求成功，传递响应内容给回调</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                callback(null)  // 如果请求不成功，传递 null</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//如何使用如下所示</span><br><span class="line">fun main() &#123;</span><br><span class="line">    val json = &quot;&quot;&quot;&#123;&quot;username&quot;:&quot;test&quot;, &quot;password&quot;:&quot;123456&quot;&#125;&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    sendPostRequestAsync(json) &#123; result -&gt;</span><br><span class="line">        if (result != null) &#123;</span><br><span class="line">            println(&quot;请求成功，返回数据：$result&quot;)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            println(&quot;请求失败&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="5-在-Android-里使用（结合协程）"><a href="#5-在-Android-里使用（结合协程）" class="headerlink" title="5. 在 Android 里使用（结合协程）"></a><strong>5. 在 Android 里使用（结合协程）</strong></h2><p>在 Android 开发中，推荐 <strong>协程+OkHttp</strong>，避免阻塞 UI 线程：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">suspend fun fetchData(): String? &#123;</span><br><span class="line">    return withContext(Dispatchers.IO) &#123;</span><br><span class="line">        val client = OkHttpClient()</span><br><span class="line">        val request = Request.Builder()</span><br><span class="line">            .url(&quot;https://api.example.com/data&quot;)</span><br><span class="line">            .get()</span><br><span class="line">            .build()</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            val response = client.newCall(request).execute()</span><br><span class="line">            if (response.isSuccessful) response.body?.string() else null</span><br><span class="line">        &#125; catch (e: IOException) &#123;</span><br><span class="line">            e.printStackTrace()</span><br><span class="line">            null</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="在-Activity-中调用"><a href="#在-Activity-中调用" class="headerlink" title="在 Activity 中调用"></a><strong>在 <code>Activity</code> 中调用</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lifecycleScope.launch &#123;</span><br><span class="line">    val data = fetchData()</span><br><span class="line">    textView.text = data // 更新 UI</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h2><table>
<thead>
<tr>
<th>请求方式</th>
<th>方法</th>
<th>是否阻塞线程</th>
</tr>
</thead>
<tbody><tr>
<td><strong>GET</strong></td>
<td><code>execute()</code></td>
<td>✅ <strong>同步（会阻塞）</strong></td>
</tr>
<tr>
<td><strong>GET（异步）</strong></td>
<td><code>enqueue()</code></td>
<td>❌ <strong>异步（不会阻塞）</strong></td>
</tr>
<tr>
<td><strong>POST</strong></td>
<td><code>execute()</code></td>
<td>✅ <strong>同步（会阻塞）</strong></td>
</tr>
<tr>
<td><strong>POST（协程）</strong></td>
<td><code>withContext(Dispatchers.IO)</code></td>
<td>✅ <strong>推荐（不会阻塞）</strong></td>
</tr>
</tbody></table>
<ul>
<li><strong>在 Android 里，推荐使用</strong>：<ul>
<li><strong><code>enqueue()</code></strong>（异步回调）</li>
<li><strong><code>withContext(Dispatchers.IO)</code></strong>（协程）</li>
</ul>
</li>
<li><strong>避免在主线程执行 <code>execute()</code>，否则会导致 ANR（应用无响应）</strong>。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">GoshenC</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2025/03/29/OkHttp%E7%9A%84%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B/">http://example.com/2025/03/29/OkHttp%E7%9A%84%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AE%89%E5%8D%93%E7%9F%A5%E8%AF%86%E7%B1%BB/">安卓知识类</a></div><div class="post-share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/03/29/HttpURLConnection%E7%9A%84%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B/" title="HttpURLConnection的用法示例"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">HttpURLConnection的用法示例</div></div><div class="info-2"><div class="info-item-1">HttpURLConnection 是 Android 进行网络请求的一个轻量级 HTTP 客户端，适用于简单的 GET 和 POST 请求。以下是 HttpURLConnection 的基本使用方法。  使用步骤 创建 URL 对象 打开连接并配置请求 发送请求 读取响应 关闭连接   示例代码1. GET 请求123456789101112131415161718192021222324252627import java.net.HttpURLConnectionimport java.net.URLfun sendGetRequest(urlString: String): String? &#123;    var connection: HttpURLConnection? = null    try &#123;        val url = URL(urlString)        connection = url.openConnection() as HttpURLConnection        connection.requestMethod =...</div></div></div></a><a class="pagination-related" href="/2025/03/30/%E4%BD%BF%E7%94%A8XmlPullParser%E8%A7%A3%E6%9E%90XML%E6%A0%BC%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B/" title="使用XmlPullParser解析XML格式数据的用法示例"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">使用XmlPullParser解析XML格式数据的用法示例</div></div><div class="info-2"><div class="info-item-1">使用 XmlPullParser 解析 XML 格式数据（Kotlin 版） 书上P438讲的很好，看书我觉得更好 1. 概述XmlPullParser 是 Android 官方提供的轻量级 XML 解析器，适用于资源受限的移动设备。它基于流式解析，不会将整个 XML 加载到内存中，因此适用于大数据量的 XML 解析。 额外知识—选择合适的解析方式：    方式 适用场景 优点 缺点    SAX 大型 XML，逐行解析 低内存占用 编码复杂   DOM 小型 XML，需要修改 易用 内存占用大   XmlPullParser 轻量 XML 解析 性能高 手写解析代码   Simple XML 复杂 XML，映射对象 代码清晰 依赖第三方库   如果你处理的是 Android 端 XML 解析，建议优先使用 XmlPullParser，如果 XML 结构复杂且需要映射对象，可以考虑 Simple XML。 2. 使用步骤2.1 添加依赖XmlPullParser 是 Android 自带的 API，因此无需额外添加依赖。 2.2 XML 示例数据假设我们有一个 XML 文件...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/03/14/Retrofit%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B/" title="Retrofit用法示例"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-14</div><div class="info-item-2">Retrofit用法示例</div></div><div class="info-2"><div class="info-item-1">Retrofit 使用指南 Retrofit 是 Android 上最常用的网络请求库之一，它简化了 HTTP 请求的处理，支持 GET、POST、PUT、DELETE 等请求方式，并且可以配合 Gson、Moshi 等解析 JSON 数据。 1. 添加依赖在 build.gradle (Module 级) 中添加： 1234dependencies &#123;    implementation &#x27;com.squareup.retrofit2:retrofit:2.9.0&#x27;    implementation &#x27;com.squareup.retrofit2:converter-gson:2.9.0&#x27; // Gson 解析 JSON&#125;  2. 创建 API 接口定义 API 接口，例如获取用户信息： 12345678910111213141516171819202122232425import retrofit2.Callimport retrofit2.http.GETimport...</div></div></div></a><a class="pagination-related" href="/2025/03/14/startActivity%E5%92%8CregisterForActivityResult%E7%9A%84%E7%94%A8%E6%B3%95/" title="startActivity和registerForActivityResult的用法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-14</div><div class="info-item-2">startActivity和registerForActivityResult的用法</div></div><div class="info-2"><div class="info-item-1">在 Android Kotlin 开发中，startActivity 和 registerForActivityResult 是启动新 Activity 并处理返回结果的两种方式。  1. 使用 startActivitystartActivity 适用于 不需要获取返回值 的情况，例如从 MainActivity 跳转到 SecondActivity： 示例：启动新 Activity12val intent = Intent(this, SecondActivity::class.java)startActivity(intent)  如果你需要传递数据： 1234val intent = Intent(this, SecondActivity::class.java).apply &#123;    putExtra(&quot;key&quot;, &quot;Hello, SecondActivity!&quot;)&#125;startActivity(intent)  在 SecondActivity 中获取： 1val data =...</div></div></div></a><a class="pagination-related" href="/2025/03/15/Room%E7%94%A8%E6%B3%95/" title="Room用法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-15</div><div class="info-item-2">Room用法</div></div><div class="info-2"><div class="info-item-1">Room 是 Android 官方推荐的数据库框架，它是 SQLite 的抽象封装，提供了更便捷的数据库操作方式，支持 Kotlin 协程和 LiveData。以下是 Room 的基本使用方法：  1. 添加 Room 依赖在 build.gradle.kts（模块级）中添加 Room 相关依赖： 12345678dependencies &#123;    val room_version = &quot;2.6.1&quot; // 确保使用最新版本    implementation(&quot;androidx.room:room-runtime:$room_version&quot;)    kapt(&quot;androidx.room:room-compiler:$room_version&quot;) // 用于注解处理器    implementation(&quot;androidx.room:room-ktx:$room_version&quot;) // 支持 Kotlin 协程&#125;  如果项目使用 Kotlin Symbol...</div></div></div></a><a class="pagination-related" href="/2025/03/15/ViewModel%E7%94%A8%E6%B3%95/" title="ViewModel用法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-15</div><div class="info-item-2">ViewModel用法</div></div><div class="info-2"><div class="info-item-1">ViewModel 是 Android 架构组件之一，用于管理 UI 相关的数据，并在 配置更改（如屏幕旋转）时保持数据不丢失。  🔹 1. 添加 ViewModel 依赖在 build.gradle.kts（模块级）中添加： 123dependencies &#123;    implementation(&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2&quot;)&#125;   🔹 2. 创建 ViewModel（1）基础 ViewModel123456789import androidx.lifecycle.ViewModelclass CounterViewModel : ViewModel() &#123;    var count = 0 // ViewModel 变量（Activity 重建后不会丢失）    fun increment() &#123;        count++    &#125;&#125;   🔹 3. 在 Activity&#x2F;Fragment...</div></div></div></a><a class="pagination-related" href="/2025/03/15/Room-ViewModel-LiveData%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%E7%9A%84%E7%94%A8%E6%B3%95/" title="Room+ViewModel+LiveData一起使用的用法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-15</div><div class="info-item-2">Room+ViewModel+LiveData一起使用的用法</div></div><div class="info-2"><div class="info-item-1">在 Android 开发中，Room、ViewModel 和 LiveData 经常一起使用，以实现 MVVM 架构，并提供持久化数据存储、生命周期感知的数据管理和自动更新 UI 的能力。  📌 1. 主要作用   组件 作用    Room（数据库） 提供 SQLite 的抽象层，管理本地数据存储   ViewModel 管理 UI 相关的数据，确保数据在配置变更（如旋转屏幕）时不会丢失   LiveData 观察数据变化，并在 UI 组件生命周期内自动更新    🚀 2. 使用 Room + ViewModel + LiveData 的完整示例📌 功能：我们实现一个简单的待办事项（ToDo List）应用，可以：  增删查改任务，数据存储在 Room 数据库中。 使用 LiveData 让 UI 自动更新，而不需要手动刷新。 ViewModel 负责管理数据，避免 Activity 直接操作数据库。   📌 3. 创建 Room 数据库（1）定义 Entity（数据库表）123456789import androidx.room.Entityimport...</div></div></div></a><a class="pagination-related" href="/2025/03/15/SQLite%E7%94%A8%E6%B3%95/" title="SQLite用法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-15</div><div class="info-item-2">SQLite用法</div></div><div class="info-2"><div class="info-item-1">SQLite 是一种轻量级的嵌入式数据库，在 Android 中用于存储结构化数据。你可以通过 SQLiteOpenHelper 来管理数据库的创建、升级、和版本管理。以下是使用 SQLite 的基本步骤： 1. 创建数据库和表使用 SQLiteOpenHelper 创建数据库以及表结构。这个类会帮助你创建数据库、执行表的升级、降级等操作。 创建 SQLiteOpenHelper 类123456789101112131415161718192021222324252627282930import android.content.Contextimport android.database.sqlite.SQLiteDatabaseimport android.database.sqlite.SQLiteOpenHelperclass MyDatabaseHelper(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) &#123;    companion...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">GoshenC</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">59</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Goshenc"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Goshenc" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:gx.c221434@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%B7%BB%E5%8A%A0-OkHttp-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.</span> <span class="toc-text">1. 添加 OkHttp 依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E7%9A%84-GET-%E8%AF%B7%E6%B1%82-%E5%90%8C%E6%AD%A5"><span class="toc-number">2.</span> <span class="toc-text">2. 基本的 GET 请求(同步)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">2.1.</span> <span class="toc-text">说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-GET-%E8%AF%B7%E6%B1%82%EF%BC%88%E5%BC%82%E6%AD%A5%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">3. GET 请求（异步）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-POST-%E8%AF%B7%E6%B1%82%EF%BC%88JSON-%E6%95%B0%E6%8D%AE%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">4. POST 请求（JSON 数据）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">4.1.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E7%89%88%E6%9C%ACPOST%E8%AF%B7%E6%B1%82"><span class="toc-number">4.2.</span> <span class="toc-text">异步版本POST请求</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%9C%A8-Android-%E9%87%8C%E4%BD%BF%E7%94%A8%EF%BC%88%E7%BB%93%E5%90%88%E5%8D%8F%E7%A8%8B%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">5. 在 Android 里使用（结合协程）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-Activity-%E4%B8%AD%E8%B0%83%E7%94%A8"><span class="toc-number">5.1.</span> <span class="toc-text">在 Activity 中调用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">6.</span> <span class="toc-text">总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/22/JS%E5%85%A5%E9%97%A8/" title="JS入门">JS入门</a><time datetime="2025-05-22T08:29:45.000Z" title="Created 2025-05-22 16:29:45">2025-05-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/20/HTML-CSS-%E9%80%89%E6%8B%A9%E5%99%A8%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/" title="HTML + CSS 选择器用法详解">HTML + CSS 选择器用法详解</a><time datetime="2025-05-20T12:31:43.000Z" title="Created 2025-05-20 20:31:43">2025-05-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/17/HTML-CSS-%E5%B8%B8%E8%A7%81%E6%A0%87%E7%AD%BE%E5%92%8C%E6%A0%B7%E5%BC%8F/" title="HTML-CSS-常见标签和样式">HTML-CSS-常见标签和样式</a><time datetime="2025-05-17T14:06:07.000Z" title="Created 2025-05-17 22:06:07">2025-05-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/24/findViewById%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/" title="findViewById用法详解">findViewById用法详解</a><time datetime="2025-04-24T14:07:36.000Z" title="Created 2025-04-24 22:07:36">2025-04-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/22/%E5%B9%B3%E7%A7%BB%E5%8A%A8%E7%94%BB%E8%AF%A6%E8%A7%A3/" title="平移动画详解">平移动画详解</a><time datetime="2025-04-22T12:10:30.000Z" title="Created 2025-04-22 20:10:30">2025-04-22</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By GoshenC</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="100" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>